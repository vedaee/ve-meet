{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\Ve Meet TEST - 3\\\\client\\\\src\\\\components\\\\GuestRoom.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport \"./Room.css\"; // Keep your existing black-gold theme\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io.connect(\"https://192.168.29.23:5000\");\nfunction GuestRoom() {\n  _s();\n  const [peers, setPeers] = useState([]);\n  const [myName, setMyName] = useState(\"\");\n  const [joined, setJoined] = useState(false);\n  const [roomID, setRoomID] = useState(\"\");\n  const [peerNames, setPeerNames] = useState({});\n  const [stream, setStream] = useState();\n  const userVideo = useRef();\n  const peersRef = useRef([]);\n  const screenSharingStreamRef = useRef(null);\n  const [screenSharePeerId, setScreenSharePeerId] = useState(null);\n  useEffect(() => {\n    socket.on(\"allUsers\", users => {\n      const peers = [];\n      users.forEach(user => {\n        const peer = createPeer(user.socketID, socket.id, stream);\n        peersRef.current.push({\n          peerID: user.socketID,\n          peer,\n          name: user.name\n        });\n        peers.push({\n          peerID: user.socketID,\n          peer,\n          name: user.name\n        });\n      });\n      setPeers(peers);\n    });\n    socket.on(\"userJoined\", payload => {\n      const peer = addPeer(payload.signal, payload.callerID, stream);\n      peersRef.current.push({\n        peerID: payload.callerID,\n        peer,\n        name: payload.name\n      });\n      setPeers(users => [...users, {\n        peerID: payload.callerID,\n        peer,\n        name: payload.name\n      }]);\n    });\n    socket.on(\"receivingReturnedSignal\", payload => {\n      const item = peersRef.current.find(p => p.peerID === payload.id);\n      item.peer.signal(payload.signal);\n    });\n    socket.on(\"userDisconnected\", id => {\n      const peerObj = peersRef.current.find(p => p.peerID === id);\n      if (peerObj) {\n        peerObj.peer.destroy();\n      }\n      peersRef.current = peersRef.current.filter(p => p.peerID !== id);\n      setPeers(prev => prev.filter(p => p.peerID !== id));\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [stream]);\n  function createPeer(userToSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream\n    });\n    peer.on(\"signal\", signal => {\n      socket.emit(\"sendingSignal\", {\n        userToSignal,\n        callerID,\n        signal,\n        name: myName,\n        roomID\n      });\n    });\n    peer.on(\"stream\", incomingStream => {\n      var _incomingStream$getVi, _incomingStream$getVi2;\n      // Detect if it's a screen share (based on resolution or metadata)\n      if ((_incomingStream$getVi = incomingStream.getVideoTracks()[0]) !== null && _incomingStream$getVi !== void 0 && (_incomingStream$getVi2 = _incomingStream$getVi.label) !== null && _incomingStream$getVi2 !== void 0 && _incomingStream$getVi2.toLowerCase().includes(\"screen\")) {\n        screenSharingStreamRef.current = incomingStream;\n        setScreenSharePeerId(userToSignal);\n      }\n    });\n    return peer;\n  }\n  function addPeer(incomingSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream\n    });\n    peer.on(\"signal\", signal => {\n      socket.emit(\"returningSignal\", {\n        signal,\n        callerID\n      });\n    });\n    peer.on(\"stream\", incomingStream => {\n      var _incomingStream$getVi3, _incomingStream$getVi4;\n      if ((_incomingStream$getVi3 = incomingStream.getVideoTracks()[0]) !== null && _incomingStream$getVi3 !== void 0 && (_incomingStream$getVi4 = _incomingStream$getVi3.label) !== null && _incomingStream$getVi4 !== void 0 && _incomingStream$getVi4.toLowerCase().includes(\"screen\")) {\n        screenSharingStreamRef.current = incomingStream;\n        setScreenSharePeerId(callerID);\n      }\n    });\n    peer.signal(incomingSignal);\n    return peer;\n  }\n  const handleJoin = async () => {\n    try {\n      const currentStream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n      setStream(currentStream);\n      if (userVideo.current) {\n        userVideo.current.srcObject = currentStream;\n      }\n      setJoined(true);\n      socket.emit(\"join room\", {\n        roomID,\n        name: myName\n      });\n    } catch (error) {\n      console.error(\"Media error:\", error);\n    }\n  };\n  const handleLeave = () => {\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"room-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"logo\",\n        children: \"Ve Meet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"room-info\",\n        children: [\"Room Code: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: roomID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 22\n        }, this), \" | You: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: myName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 55\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), !joined ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"join-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter your name\",\n        value: myName,\n        onChange: e => setMyName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter Room Code\",\n        value: roomID,\n        onChange: e => setRoomID(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleJoin,\n        children: \"Join Meeting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-grid\",\n        children: [screenSharingStreamRef.current && screenSharePeerId && /*#__PURE__*/_jsxDEV(\"video\", {\n          className: \"fullscreen-video\",\n          ref: video => {\n            if (video) video.srcObject = screenSharingStreamRef.current;\n          },\n          autoPlay: true,\n          playsInline: true,\n          muted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            muted: true,\n            ref: userVideo,\n            autoPlay: true,\n            playsInline: true,\n            className: \"video-element\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"name-tag\",\n            children: [myName, \" (You)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), peers.map(peerData => peerData.peerID === screenSharePeerId ? null : /*#__PURE__*/_jsxDEV(Video, {\n          peer: peerData.peer,\n          name: peerData.name\n        }, peerData.peerID, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLeave,\n          className: \"leave-button\",\n          children: \"Leave Meeting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n_s(GuestRoom, \"YHxL8rjCj0flWEn3iwoEih95kV8=\");\n_c = GuestRoom;\nfunction Video({\n  peer,\n  name\n}) {\n  _s2();\n  const ref = useRef();\n  useEffect(() => {\n    peer.on(\"stream\", stream => {\n      if (ref.current) {\n        ref.current.srcObject = stream;\n      }\n    });\n  }, [peer]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-block\",\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      playsInline: true,\n      autoPlay: true,\n      ref: ref,\n      className: \"video-element\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"name-tag\",\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n}\n_s2(Video, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c2 = Video;\nexport default GuestRoom;\nvar _c, _c2;\n$RefreshReg$(_c, \"GuestRoom\");\n$RefreshReg$(_c2, \"Video\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","Peer","jsxDEV","_jsxDEV","Fragment","_Fragment","socket","connect","GuestRoom","_s","peers","setPeers","myName","setMyName","joined","setJoined","roomID","setRoomID","peerNames","setPeerNames","stream","setStream","userVideo","peersRef","screenSharingStreamRef","screenSharePeerId","setScreenSharePeerId","on","users","forEach","user","peer","createPeer","socketID","id","current","push","peerID","name","payload","addPeer","signal","callerID","item","find","p","peerObj","destroy","filter","prev","disconnect","userToSignal","initiator","trickle","emit","incomingStream","_incomingStream$getVi","_incomingStream$getVi2","getVideoTracks","label","toLowerCase","includes","incomingSignal","_incomingStream$getVi3","_incomingStream$getVi4","handleJoin","currentStream","navigator","mediaDevices","getUserMedia","video","audio","srcObject","error","console","handleLeave","window","location","reload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","ref","autoPlay","playsInline","muted","map","peerData","Video","_c","_s2","_c2","$RefreshReg$"],"sources":["C:/projects/Ve Meet TEST - 3/client/src/components/GuestRoom.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport \"./Room.css\"; // Keep your existing black-gold theme\r\n\r\nconst socket = io.connect(\"https://192.168.29.23:5000\");\r\n\r\nfunction GuestRoom() {\r\n  const [peers, setPeers] = useState([]);\r\n  const [myName, setMyName] = useState(\"\");\r\n  const [joined, setJoined] = useState(false);\r\n  const [roomID, setRoomID] = useState(\"\");\r\n  const [peerNames, setPeerNames] = useState({});\r\n  const [stream, setStream] = useState();\r\n  const userVideo = useRef();\r\n  const peersRef = useRef([]);\r\n  const screenSharingStreamRef = useRef(null);\r\n  const [screenSharePeerId, setScreenSharePeerId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"allUsers\", (users) => {\r\n      const peers = [];\r\n      users.forEach((user) => {\r\n        const peer = createPeer(user.socketID, socket.id, stream);\r\n        peersRef.current.push({\r\n          peerID: user.socketID,\r\n          peer,\r\n          name: user.name,\r\n        });\r\n        peers.push({ peerID: user.socketID, peer, name: user.name });\r\n      });\r\n      setPeers(peers);\r\n    });\r\n\r\n    socket.on(\"userJoined\", (payload) => {\r\n      const peer = addPeer(payload.signal, payload.callerID, stream);\r\n      peersRef.current.push({\r\n        peerID: payload.callerID,\r\n        peer,\r\n        name: payload.name,\r\n      });\r\n\r\n      setPeers((users) => [\r\n        ...users,\r\n        { peerID: payload.callerID, peer, name: payload.name },\r\n      ]);\r\n    });\r\n\r\n    socket.on(\"receivingReturnedSignal\", (payload) => {\r\n      const item = peersRef.current.find(\r\n        (p) => p.peerID === payload.id\r\n      );\r\n      item.peer.signal(payload.signal);\r\n    });\r\n\r\n    socket.on(\"userDisconnected\", (id) => {\r\n      const peerObj = peersRef.current.find((p) => p.peerID === id);\r\n      if (peerObj) {\r\n        peerObj.peer.destroy();\r\n      }\r\n      peersRef.current = peersRef.current.filter((p) => p.peerID !== id);\r\n      setPeers((prev) => prev.filter((p) => p.peerID !== id));\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [stream]);\r\n\r\n  function createPeer(userToSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: true,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      socket.emit(\"sendingSignal\", {\r\n        userToSignal,\r\n        callerID,\r\n        signal,\r\n        name: myName,\r\n        roomID,\r\n      });\r\n    });\r\n\r\n    peer.on(\"stream\", (incomingStream) => {\r\n      // Detect if it's a screen share (based on resolution or metadata)\r\n      if (\r\n        incomingStream.getVideoTracks()[0]?.label?.toLowerCase().includes(\"screen\")\r\n      ) {\r\n        screenSharingStreamRef.current = incomingStream;\r\n        setScreenSharePeerId(userToSignal);\r\n      }\r\n    });\r\n\r\n    return peer;\r\n  }\r\n\r\n  function addPeer(incomingSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: false,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      socket.emit(\"returningSignal\", { signal, callerID });\r\n    });\r\n\r\n    peer.on(\"stream\", (incomingStream) => {\r\n      if (\r\n        incomingStream.getVideoTracks()[0]?.label?.toLowerCase().includes(\"screen\")\r\n      ) {\r\n        screenSharingStreamRef.current = incomingStream;\r\n        setScreenSharePeerId(callerID);\r\n      }\r\n    });\r\n\r\n    peer.signal(incomingSignal);\r\n    return peer;\r\n  }\r\n\r\n  const handleJoin = async () => {\r\n    try {\r\n      const currentStream = await navigator.mediaDevices.getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      });\r\n      setStream(currentStream);\r\n      if (userVideo.current) {\r\n        userVideo.current.srcObject = currentStream;\r\n      }\r\n      setJoined(true);\r\n      socket.emit(\"join room\", { roomID, name: myName });\r\n    } catch (error) {\r\n      console.error(\"Media error:\", error);\r\n    }\r\n  };\r\n\r\n  const handleLeave = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div className=\"room-container\">\r\n      <div className=\"header\">\r\n        <h1 className=\"logo\">Ve Meet</h1>\r\n        <p className=\"room-info\">\r\n          Room Code: <strong>{roomID}</strong> | You: <strong>{myName}</strong>\r\n        </p>\r\n      </div>\r\n\r\n      {!joined ? (\r\n        <div className=\"join-section\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter your name\"\r\n            value={myName}\r\n            onChange={(e) => setMyName(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter Room Code\"\r\n            value={roomID}\r\n            onChange={(e) => setRoomID(e.target.value)}\r\n          />\r\n          <button onClick={handleJoin}>Join Meeting</button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"video-grid\">\r\n            {/* Screen Share Fullscreen if Active */}\r\n            {screenSharingStreamRef.current && screenSharePeerId && (\r\n              <video\r\n                className=\"fullscreen-video\"\r\n                ref={(video) => {\r\n                  if (video) video.srcObject = screenSharingStreamRef.current;\r\n                }}\r\n                autoPlay\r\n                playsInline\r\n                muted\r\n              />\r\n            )}\r\n\r\n            {/* Self Video */}\r\n            <div className=\"video-block\">\r\n              <video\r\n                muted\r\n                ref={userVideo}\r\n                autoPlay\r\n                playsInline\r\n                className=\"video-element\"\r\n              />\r\n              <p className=\"name-tag\">{myName} (You)</p>\r\n            </div>\r\n\r\n            {/* Other Peers */}\r\n            {peers.map((peerData) =>\r\n              peerData.peerID === screenSharePeerId ? null : (\r\n                <Video key={peerData.peerID} peer={peerData.peer} name={peerData.name} />\r\n              )\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"controls\">\r\n            <button onClick={handleLeave} className=\"leave-button\">\r\n              Leave Meeting\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Video({ peer, name }) {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    peer.on(\"stream\", (stream) => {\r\n      if (ref.current) {\r\n        ref.current.srcObject = stream;\r\n      }\r\n    });\r\n  }, [peer]);\r\n\r\n  return (\r\n    <div className=\"video-block\">\r\n      <video playsInline autoPlay ref={ref} className=\"video-element\" />\r\n      <p className=\"name-tag\">{name}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GuestRoom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}