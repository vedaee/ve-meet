{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import io from'socket.io-client';import Peer from'simple-peer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io.connect('https://localhost:5000');// Change if needed\nfunction Room(){const[peers,setPeers]=useState([]);const[participants,setParticipants]=useState([]);const[userName,setUserName]=useState('');const[roomID,setRoomID]=useState('');const[micOn,setMicOn]=useState(true);const[camOn,setCamOn]=useState(true);const[screenSharing,setScreenSharing]=useState(false);const userVideo=useRef();const peersRef=useRef([]);const streamRef=useRef();useEffect(()=>{const name=prompt('Enter your name');const room=prompt('Enter room code');setUserName(name);setRoomID(room);navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(stream=>{streamRef.current=stream;if(userVideo.current){userVideo.current.srcObject=stream;}socket.emit('join-room',{roomID:room,userName:name});socket.on('all-users',users=>{const newPeers=[];users.forEach(user=>{const peer=createPeer(user.socketID,socket.id,stream,name);peersRef.current.push({peerID:user.socketID,peer,userName:user.userName});newPeers.push({peerID:user.socketID,peer,userName:user.userName});});setPeers(newPeers);});socket.on('user-joined',payload=>{const peer=addPeer(payload.signal,payload.callerID,stream,payload.userName);peersRef.current.push({peerID:payload.callerID,peer,userName:payload.userName});setPeers(users=>[...users,{peerID:payload.callerID,peer,userName:payload.userName}]);});socket.on('receiving-returned-signal',payload=>{const item=peersRef.current.find(p=>p.peerID===payload.id);item.peer.signal(payload.signal);});socket.on('update-user-list',users=>{setParticipants(users);});socket.on('user-disconnected',id=>{setPeers(peers=>peers.filter(p=>p.peerID!==id));peersRef.current=peersRef.current.filter(p=>p.peerID!==id);});});},[]);function createPeer(userToSignal,callerID,stream,userName){const peer=new Peer({initiator:true,trickle:false,stream});peer.on('signal',signal=>{socket.emit('sending-signal',{userToSignal,callerID,signal,userName});});return peer;}function addPeer(incomingSignal,callerID,stream,userName){const peer=new Peer({initiator:false,trickle:false,stream});peer.on('signal',signal=>{socket.emit('returning-signal',{signal,callerID});});peer.signal(incomingSignal);return peer;}const toggleMic=()=>{streamRef.current.getAudioTracks()[0].enabled=!micOn;setMicOn(!micOn);};const toggleCam=()=>{streamRef.current.getVideoTracks()[0].enabled=!camOn;setCamOn(!camOn);};const handleScreenShare=async()=>{if(!screenSharing){const screenStream=await navigator.mediaDevices.getDisplayMedia({video:true});const screenTrack=screenStream.getVideoTracks()[0];peersRef.current.forEach(_ref=>{let{peer}=_ref;peer.replaceTrack(streamRef.current.getVideoTracks()[0],screenTrack,streamRef.current);});screenTrack.onended=()=>{peersRef.current.forEach(_ref2=>{let{peer}=_ref2;peer.replaceTrack(screenTrack,streamRef.current.getVideoTracks()[0],streamRef.current);});setScreenSharing(false);};setScreenSharing(true);}};const endMeeting=()=>{// Disconnect all peers\npeersRef.current.forEach(_ref3=>{let{peer}=_ref3;return peer.destroy();});peersRef.current=[];// Stop all local media tracks\nif(streamRef.current){streamRef.current.getTracks().forEach(track=>track.stop());}// Disconnect socket and leave room\nsocket.disconnect();// Reload or navigate away\nwindow.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'100vh',backgroundColor:'#000',color:'gold',fontFamily:\"'Segoe UI', sans-serif\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{padding:'15px 20px',borderBottom:'2px solid gold',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'bold',textShadow:'2px 2px 4px #000'},children:\"Ve Meet\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:'20px',fontWeight:'bold'},children:[\"Room: \",roomID]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"You: \",userName]})]})]}),/*#__PURE__*/_jsxs(\"main\",{style:{flex:1,padding:'20px',display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(220px, 1fr))',gap:'15px',overflowY:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#111',borderRadius:'10px',overflow:'hidden',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"video\",{muted:true,ref:userVideo,autoPlay:true,playsInline:true,style:{width:'100%',borderRadius:'10px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'5px',background:'#222'},children:[userName,\" (You)\"]})]}),peers.map((peerObj,index)=>/*#__PURE__*/_jsx(Video,{peer:peerObj.peer,name:peerObj.userName},index))]})]}),/*#__PURE__*/_jsxs(\"aside\",{style:{width:'280px',background:'#111',padding:'20px',borderLeft:'2px solid gold',display:'flex',flexDirection:'column',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{marginBottom:'10px'},children:[\"Participants (\",participants.length+1,\")\"]}),/*#__PURE__*/_jsxs(\"ul\",{style:{listStyle:'none',padding:0,maxHeight:'60vh',overflowY:'auto'},children:[/*#__PURE__*/_jsxs(\"li\",{style:{padding:'5px 0',borderBottom:'1px solid #333'},children:[userName,\" (You)\"]}),participants.map((p,i)=>/*#__PURE__*/_jsx(\"li\",{style:{padding:'5px 0',borderBottom:'1px solid #333'},children:p},i))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleMic,style:btnStyle,children:micOn?'Mute':'Unmute'}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleCam,style:btnStyle,children:camOn?'Video Off':'Video On'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleScreenShare,style:btnStyle,children:screenSharing?'Stop Sharing':'Share Screen'}),/*#__PURE__*/_jsx(\"button\",{onClick:endMeeting,style:{...btnStyle,backgroundColor:'red',color:'white'},children:\"End Meeting\"})]})]})]});}const Video=_ref4=>{let{peer,name}=_ref4;const ref=useRef();useEffect(()=>{peer.on('stream',stream=>{if(ref.current){ref.current.srcObject=stream;}});},[peer]);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#111',borderRadius:'10px',overflow:'hidden',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"video\",{playsInline:true,autoPlay:true,ref:ref,style:{width:'100%',borderRadius:'10px'}}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'5px',background:'#222'},children:name})]});};const btnStyle={margin:'5px 0',padding:'10px 15px',backgroundColor:'gold',border:'none',borderRadius:'8px',fontWeight:'bold',cursor:'pointer'};export default Room;","map":{"version":3,"names":["React","useEffect","useRef","useState","io","Peer","jsx","_jsx","jsxs","_jsxs","socket","connect","Room","peers","setPeers","participants","setParticipants","userName","setUserName","roomID","setRoomID","micOn","setMicOn","camOn","setCamOn","screenSharing","setScreenSharing","userVideo","peersRef","streamRef","name","prompt","room","navigator","mediaDevices","getUserMedia","video","audio","then","stream","current","srcObject","emit","on","users","newPeers","forEach","user","peer","createPeer","socketID","id","push","peerID","payload","addPeer","signal","callerID","item","find","p","filter","userToSignal","initiator","trickle","incomingSignal","toggleMic","getAudioTracks","enabled","toggleCam","getVideoTracks","handleScreenShare","screenStream","getDisplayMedia","screenTrack","_ref","replaceTrack","onended","_ref2","endMeeting","_ref3","destroy","getTracks","track","stop","disconnect","window","location","reload","style","display","height","backgroundColor","color","fontFamily","children","flex","flexDirection","padding","borderBottom","justifyContent","alignItems","fontSize","fontWeight","textShadow","marginRight","gridTemplateColumns","gap","overflowY","borderRadius","overflow","textAlign","muted","ref","autoPlay","playsInline","width","background","map","peerObj","index","Video","borderLeft","marginBottom","length","listStyle","maxHeight","i","marginTop","onClick","btnStyle","_ref4","margin","border","cursor"],"sources":["C:/projects/Ve Meet TEST/client/src/components/Room.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport io from 'socket.io-client';\r\nimport Peer from 'simple-peer';\r\n\r\nconst socket = io.connect('https://localhost:5000'); // Change if needed\r\n\r\nfunction Room() {\r\n  const [peers, setPeers] = useState([]);\r\n  const [participants, setParticipants] = useState([]);\r\n  const [userName, setUserName] = useState('');\r\n  const [roomID, setRoomID] = useState('');\r\n  const [micOn, setMicOn] = useState(true);\r\n  const [camOn, setCamOn] = useState(true);\r\n  const [screenSharing, setScreenSharing] = useState(false);\r\n  const userVideo = useRef();\r\n  const peersRef = useRef([]);\r\n  const streamRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const name = prompt('Enter your name');\r\n    const room = prompt('Enter room code');\r\n    setUserName(name);\r\n    setRoomID(room);\r\n\r\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true }).then(stream => {\r\n      streamRef.current = stream;\r\n      if (userVideo.current) {\r\n        userVideo.current.srcObject = stream;\r\n      }\r\n\r\n      socket.emit('join-room', { roomID: room, userName: name });\r\n\r\n      socket.on('all-users', users => {\r\n        const newPeers = [];\r\n        users.forEach(user => {\r\n          const peer = createPeer(user.socketID, socket.id, stream, name);\r\n          peersRef.current.push({\r\n            peerID: user.socketID,\r\n            peer,\r\n            userName: user.userName,\r\n          });\r\n          newPeers.push({ peerID: user.socketID, peer, userName: user.userName });\r\n        });\r\n        setPeers(newPeers);\r\n      });\r\n\r\n      socket.on('user-joined', payload => {\r\n        const peer = addPeer(payload.signal, payload.callerID, stream, payload.userName);\r\n        peersRef.current.push({\r\n          peerID: payload.callerID,\r\n          peer,\r\n          userName: payload.userName,\r\n        });\r\n        setPeers(users => [...users, { peerID: payload.callerID, peer, userName: payload.userName }]);\r\n      });\r\n\r\n      socket.on('receiving-returned-signal', payload => {\r\n        const item = peersRef.current.find(p => p.peerID === payload.id);\r\n        item.peer.signal(payload.signal);\r\n      });\r\n\r\n      socket.on('update-user-list', users => {\r\n        setParticipants(users);\r\n      });\r\n\r\n      socket.on('user-disconnected', id => {\r\n        setPeers(peers => peers.filter(p => p.peerID !== id));\r\n        peersRef.current = peersRef.current.filter(p => p.peerID !== id);\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  function createPeer(userToSignal, callerID, stream, userName) {\r\n    const peer = new Peer({\r\n      initiator: true,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on('signal', signal => {\r\n      socket.emit('sending-signal', { userToSignal, callerID, signal, userName });\r\n    });\r\n\r\n    return peer;\r\n  }\r\n\r\n  function addPeer(incomingSignal, callerID, stream, userName) {\r\n    const peer = new Peer({\r\n      initiator: false,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on('signal', signal => {\r\n      socket.emit('returning-signal', { signal, callerID });\r\n    });\r\n\r\n    peer.signal(incomingSignal);\r\n\r\n    return peer;\r\n  }\r\n\r\n  const toggleMic = () => {\r\n    streamRef.current.getAudioTracks()[0].enabled = !micOn;\r\n    setMicOn(!micOn);\r\n  };\r\n\r\n  const toggleCam = () => {\r\n    streamRef.current.getVideoTracks()[0].enabled = !camOn;\r\n    setCamOn(!camOn);\r\n  };\r\n\r\n  const handleScreenShare = async () => {\r\n    if (!screenSharing) {\r\n      const screenStream = await navigator.mediaDevices.getDisplayMedia({ video: true });\r\n      const screenTrack = screenStream.getVideoTracks()[0];\r\n\r\n      peersRef.current.forEach(({ peer }) => {\r\n        peer.replaceTrack(streamRef.current.getVideoTracks()[0], screenTrack, streamRef.current);\r\n      });\r\n\r\n      screenTrack.onended = () => {\r\n        peersRef.current.forEach(({ peer }) => {\r\n          peer.replaceTrack(screenTrack, streamRef.current.getVideoTracks()[0], streamRef.current);\r\n        });\r\n        setScreenSharing(false);\r\n      };\r\n\r\n      setScreenSharing(true);\r\n    }\r\n  };\r\n\r\n  const endMeeting = () => {\r\n  // Disconnect all peers\r\n  peersRef.current.forEach(({ peer }) => peer.destroy());\r\n  peersRef.current = [];\r\n\r\n  // Stop all local media tracks\r\n  if (streamRef.current) {\r\n    streamRef.current.getTracks().forEach(track => track.stop());\r\n  }\r\n\r\n  // Disconnect socket and leave room\r\n  socket.disconnect();\r\n\r\n  // Reload or navigate away\r\n  window.location.reload();\r\n };\r\n\r\n return (\r\n    <div style={{ display: 'flex', height: '100vh', backgroundColor: '#000', color: 'gold', fontFamily: \"'Segoe UI', sans-serif\" }}>\r\n      {/* Left: Video grid + header */}\r\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n        {/* Header */}\r\n        <header style={{ padding: '15px 20px', borderBottom: '2px solid gold', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <div style={{ fontSize: '32px', fontWeight: 'bold', textShadow: '2px 2px 4px #000' }}>Ve Meet</div>\r\n          <div>\r\n            <span style={{ marginRight: '20px', fontWeight: 'bold' }}>Room: {roomID}</span>\r\n            <span>You: {userName}</span>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Video Grid */}\r\n        <main style={{ flex: 1, padding: '20px', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))', gap: '15px', overflowY: 'auto' }}>\r\n          <div style={{ backgroundColor: '#111', borderRadius: '10px', overflow: 'hidden', textAlign: 'center' }}>\r\n            <video muted ref={userVideo} autoPlay playsInline style={{ width: '100%', borderRadius: '10px' }} />\r\n            <div style={{ padding: '5px', background: '#222' }}>{userName} (You)</div>\r\n          </div>\r\n\r\n          {peers.map((peerObj, index) => (\r\n            <Video key={index} peer={peerObj.peer} name={peerObj.userName} />\r\n          ))}\r\n        </main>\r\n      </div>\r\n\r\n      {/* Right side panel */}\r\n      <aside style={{ width: '280px', background: '#111', padding: '20px', borderLeft: '2px solid gold', display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\r\n        <div>\r\n          <h3 style={{ marginBottom: '10px' }}>Participants ({participants.length + 1})</h3>\r\n          <ul style={{ listStyle: 'none', padding: 0, maxHeight: '60vh', overflowY: 'auto' }}>\r\n            <li style={{ padding: '5px 0', borderBottom: '1px solid #333' }}>{userName} (You)</li>\r\n            {participants.map((p, i) => (\r\n              <li key={i} style={{ padding: '5px 0', borderBottom: '1px solid #333' }}>{p}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        <div style={{ marginTop: '20px', display: 'flex', flexDirection: 'column' }}>\r\n          <button onClick={toggleMic} style={btnStyle}>{micOn ? 'Mute' : 'Unmute'}</button>\r\n          <button onClick={toggleCam} style={btnStyle}>{camOn ? 'Video Off' : 'Video On'}</button>\r\n          <button onClick={handleScreenShare} style={btnStyle}>{screenSharing ? 'Stop Sharing' : 'Share Screen'}</button>\r\n          <button onClick={endMeeting} style={{ ...btnStyle, backgroundColor: 'red', color: 'white' }}>End Meeting</button>\r\n        </div>\r\n      </aside>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Video = ({ peer, name }) => {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    peer.on('stream', stream => {\r\n      if (ref.current) {\r\n        ref.current.srcObject = stream;\r\n      }\r\n    });\r\n  }, [peer]);\r\n\r\n  return (\r\n    <div style={{ backgroundColor: '#111', borderRadius: '10px', overflow: 'hidden', textAlign: 'center' }}>\r\n      <video playsInline autoPlay ref={ref} style={{ width: '100%', borderRadius: '10px' }} />\r\n      <div style={{ padding: '5px', background: '#222' }}>{name}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst btnStyle = {\r\n  margin: '5px 0',\r\n  padding: '10px 15px',\r\n  backgroundColor: 'gold',\r\n  border: 'none',\r\n  borderRadius: '8px',\r\n  fontWeight: 'bold',\r\n  cursor: 'pointer',\r\n};\r\n\r\nexport default Room;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}