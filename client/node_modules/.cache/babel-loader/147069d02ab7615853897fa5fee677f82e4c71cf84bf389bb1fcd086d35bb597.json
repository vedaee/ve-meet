{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\Ve Meet\\\\client\\\\src\\\\components\\\\GuestRoom.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport Peer from 'simple-peer';\nimport './GuestRoom.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io('https://localhost:5000'); // your backend URL\n\nexport default function GuestRoom({\n  roomId,\n  name\n}) {\n  _s();\n  const [cameras, setCameras] = useState([]);\n  const [selectedCam, setSelectedCam] = useState('');\n  const [peers, setPeers] = useState([]);\n  const [localStream, setLocalStream] = useState(null);\n  const [joined, setJoined] = useState(false);\n  const [participants, setParticipants] = useState([]);\n  const localVideoRef = useRef();\n  const peersRef = useRef([]);\n\n  // Get list of video input devices (cameras)\n  useEffect(() => {\n    navigator.mediaDevices.enumerateDevices().then(devices => {\n      const videoInputs = devices.filter(d => d.kind === 'videoinput');\n      setCameras(videoInputs);\n      if (videoInputs.length > 0) setSelectedCam(videoInputs[0].deviceId);\n    }).catch(console.error);\n  }, []);\n\n  // Get media stream for selected camera\n  useEffect(() => {\n    if (!selectedCam) return;\n    navigator.mediaDevices.getUserMedia({\n      video: {\n        deviceId: {\n          exact: selectedCam\n        }\n      },\n      audio: true\n    }).then(stream => {\n      if (localVideoRef.current) localVideoRef.current.srcObject = stream;\n      setLocalStream(stream);\n\n      // If already joined, update peers with new stream tracks\n      if (joined) {\n        peersRef.current.forEach(({\n          peer\n        }) => {\n          stream.getTracks().forEach(track => {\n            peer.replaceTrack(peer.streams[0].getTracks().find(t => t.kind === track.kind), track, stream);\n          });\n        });\n      }\n    }).catch(err => {\n      console.error('Error accessing camera/audio:', err);\n      alert('Could not access selected camera or microphone.');\n    });\n  }, [selectedCam, joined]);\n\n  // Join room and start WebRTC connections\n  const handleJoin = () => {\n    if (!name || !roomId) {\n      alert('Please enter your name and room ID');\n      return;\n    }\n    if (!localStream) {\n      alert('No local media stream available yet');\n      return;\n    }\n    socket.emit('join-room', {\n      roomId,\n      name\n    });\n    socket.on('user-list', users => {\n      setParticipants(users);\n    });\n    socket.on('user-joined', ({\n      id,\n      name: userName\n    }) => {\n      const peer = createPeer(id, socket.id, localStream);\n      peersRef.current.push({\n        peerID: id,\n        peer,\n        name: userName\n      });\n      setPeers(users => [...users, {\n        peerID: id,\n        peer,\n        name: userName\n      }]);\n    });\n    socket.on('offer', ({\n      from,\n      offer\n    }) => {\n      const peer = addPeer(offer, from, localStream);\n      peersRef.current.push({\n        peerID: from,\n        peer\n      });\n      setPeers(users => [...users, {\n        peerID: from,\n        peer\n      }]);\n    });\n    socket.on('answer', ({\n      from,\n      answer\n    }) => {\n      const item = peersRef.current.find(p => p.peerID === from);\n      if (item) item.peer.signal(answer);\n    });\n    socket.on('candidate', ({\n      from,\n      candidate\n    }) => {\n      const item = peersRef.current.find(p => p.peerID === from);\n      if (item) item.peer.signal(candidate);\n    });\n    socket.on('user-left', ({\n      id\n    }) => {\n      const peerObj = peersRef.current.find(p => p.peerID === id);\n      if (peerObj) {\n        peerObj.peer.destroy();\n        peersRef.current = peersRef.current.filter(p => p.peerID !== id);\n        setPeers(users => users.filter(p => p.peerID !== id));\n      }\n      setParticipants(users => users.filter(user => user !== id));\n    });\n    setJoined(true);\n  };\n\n  // Create peer as initiator for new user\n  function createPeer(userToSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream\n    });\n    peer.on('signal', signal => {\n      socket.emit('offer', {\n        to: userToSignal,\n        offer: signal\n      });\n    });\n    return peer;\n  }\n\n  // Add peer as non-initiator answering call\n  function addPeer(incomingSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream\n    });\n    peer.on('signal', signal => {\n      socket.emit('answer', {\n        to: callerID,\n        answer: signal\n      });\n    });\n    peer.signal(incomingSignal);\n    return peer;\n  }\n\n  // Render remote videos\n  const renderPeers = () => {\n    return peers.map(({\n      peerID,\n      peer,\n      name\n    }) => /*#__PURE__*/_jsxDEV(Video, {\n      peer: peer,\n      name: name\n    }, peerID, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"guest-room\",\n    style: {\n      backgroundColor: 'black',\n      color: 'gold'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontFamily: \"'Cinzel Decorative', cursive\",\n        color: 'gold'\n      },\n      children: \"Ve Meet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), !joined && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => {} /* controlled from parent or implement state here */,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Room ID: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: roomId,\n          onChange: e => {} /* controlled from parent or implement state here */,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"camera-select\",\n        style: {\n          margin: '10px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"camera\",\n          style: {\n            marginRight: 10\n          },\n          children: \"Select Camera:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"camera\",\n          value: selectedCam,\n          onChange: e => setSelectedCam(e.target.value),\n          children: cameras.map(cam => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cam.deviceId,\n            children: cam.label || `Camera ${cam.deviceId}`\n          }, cam.deviceId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleJoin,\n        style: {\n          backgroundColor: 'gold',\n          color: 'black',\n          padding: '10px 20px',\n          border: 'none',\n          borderRadius: 5,\n          cursor: 'pointer'\n        },\n        children: \"Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), joined && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"videos-grid\",\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: '1 0 30%',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: localVideoRef,\n          autoPlay: true,\n          muted: true,\n          playsInline: true,\n          style: {\n            width: '100%',\n            borderRadius: 8,\n            backgroundColor: '#222'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'gold',\n            textAlign: 'center',\n            marginTop: 4\n          },\n          children: [\"You (\", name, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), renderPeers()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n}\n_s(GuestRoom, \"qF1u6jKXbJw+DzFnY583jFmL0Eg=\");\n_c = GuestRoom;\nfunction Video({\n  peer,\n  name\n}) {\n  _s2();\n  const ref = useRef();\n  useEffect(() => {\n    peer.on('stream', stream => {\n      if (ref.current) {\n        ref.current.srcObject = stream;\n      }\n    });\n  }, [peer]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      flex: '1 0 30%',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      playsInline: true,\n      autoPlay: true,\n      ref: ref,\n      style: {\n        width: '100%',\n        borderRadius: 8,\n        backgroundColor: '#222'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'gold',\n        textAlign: 'center',\n        marginTop: 4\n      },\n      children: name || 'Guest'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n}\n_s2(Video, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c2 = Video;\nvar _c, _c2;\n$RefreshReg$(_c, \"GuestRoom\");\n$RefreshReg$(_c2, \"Video\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","Peer","jsxDEV","_jsxDEV","Fragment","_Fragment","socket","GuestRoom","roomId","name","_s","cameras","setCameras","selectedCam","setSelectedCam","peers","setPeers","localStream","setLocalStream","joined","setJoined","participants","setParticipants","localVideoRef","peersRef","navigator","mediaDevices","enumerateDevices","then","devices","videoInputs","filter","d","kind","length","deviceId","catch","console","error","getUserMedia","video","exact","audio","stream","current","srcObject","forEach","peer","getTracks","track","replaceTrack","streams","find","t","err","alert","handleJoin","emit","on","users","id","userName","createPeer","push","peerID","from","offer","addPeer","answer","item","p","signal","candidate","peerObj","destroy","user","userToSignal","callerID","initiator","trickle","to","incomingSignal","renderPeers","map","Video","fileName","_jsxFileName","lineNumber","columnNumber","className","style","backgroundColor","color","children","fontFamily","type","value","onChange","e","disabled","margin","htmlFor","marginRight","target","cam","label","onClick","padding","border","borderRadius","cursor","display","flexWrap","gap","flex","position","ref","autoPlay","muted","playsInline","width","textAlign","marginTop","_c","_s2","_c2","$RefreshReg$"],"sources":["C:/projects/Ve Meet/client/src/components/GuestRoom.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\nimport Peer from 'simple-peer';\r\nimport './GuestRoom.css';\r\n\r\nconst socket = io('https://localhost:5000'); // your backend URL\r\n\r\nexport default function GuestRoom({ roomId, name }) {\r\n  const [cameras, setCameras] = useState([]);\r\n  const [selectedCam, setSelectedCam] = useState('');\r\n  const [peers, setPeers] = useState([]);\r\n  const [localStream, setLocalStream] = useState(null);\r\n  const [joined, setJoined] = useState(false);\r\n  const [participants, setParticipants] = useState([]);\r\n\r\n  const localVideoRef = useRef();\r\n  const peersRef = useRef([]);\r\n\r\n  // Get list of video input devices (cameras)\r\n  useEffect(() => {\r\n    navigator.mediaDevices.enumerateDevices()\r\n      .then(devices => {\r\n        const videoInputs = devices.filter(d => d.kind === 'videoinput');\r\n        setCameras(videoInputs);\r\n        if (videoInputs.length > 0) setSelectedCam(videoInputs[0].deviceId);\r\n      })\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  // Get media stream for selected camera\r\n  useEffect(() => {\r\n    if (!selectedCam) return;\r\n    navigator.mediaDevices.getUserMedia({\r\n      video: { deviceId: { exact: selectedCam } },\r\n      audio: true\r\n    }).then(stream => {\r\n      if (localVideoRef.current) localVideoRef.current.srcObject = stream;\r\n      setLocalStream(stream);\r\n\r\n      // If already joined, update peers with new stream tracks\r\n      if (joined) {\r\n        peersRef.current.forEach(({ peer }) => {\r\n          stream.getTracks().forEach(track => {\r\n            peer.replaceTrack(\r\n              peer.streams[0]\r\n                .getTracks()\r\n                .find(t => t.kind === track.kind),\r\n              track,\r\n              stream\r\n            );\r\n          });\r\n        });\r\n      }\r\n    }).catch(err => {\r\n      console.error('Error accessing camera/audio:', err);\r\n      alert('Could not access selected camera or microphone.');\r\n    });\r\n  }, [selectedCam, joined]);\r\n\r\n  // Join room and start WebRTC connections\r\n  const handleJoin = () => {\r\n    if (!name || !roomId) {\r\n      alert('Please enter your name and room ID');\r\n      return;\r\n    }\r\n    if (!localStream) {\r\n      alert('No local media stream available yet');\r\n      return;\r\n    }\r\n\r\n    socket.emit('join-room', { roomId, name });\r\n\r\n    socket.on('user-list', users => {\r\n      setParticipants(users);\r\n    });\r\n\r\n    socket.on('user-joined', ({ id, name: userName }) => {\r\n      const peer = createPeer(id, socket.id, localStream);\r\n      peersRef.current.push({ peerID: id, peer, name: userName });\r\n      setPeers(users => [...users, { peerID: id, peer, name: userName }]);\r\n    });\r\n\r\n    socket.on('offer', ({ from, offer }) => {\r\n      const peer = addPeer(offer, from, localStream);\r\n      peersRef.current.push({ peerID: from, peer });\r\n      setPeers(users => [...users, { peerID: from, peer }]);\r\n    });\r\n\r\n    socket.on('answer', ({ from, answer }) => {\r\n      const item = peersRef.current.find(p => p.peerID === from);\r\n      if (item) item.peer.signal(answer);\r\n    });\r\n\r\n    socket.on('candidate', ({ from, candidate }) => {\r\n      const item = peersRef.current.find(p => p.peerID === from);\r\n      if (item) item.peer.signal(candidate);\r\n    });\r\n\r\n    socket.on('user-left', ({ id }) => {\r\n      const peerObj = peersRef.current.find(p => p.peerID === id);\r\n      if (peerObj) {\r\n        peerObj.peer.destroy();\r\n        peersRef.current = peersRef.current.filter(p => p.peerID !== id);\r\n        setPeers(users => users.filter(p => p.peerID !== id));\r\n      }\r\n      setParticipants(users => users.filter(user => user !== id));\r\n    });\r\n\r\n    setJoined(true);\r\n  };\r\n\r\n  // Create peer as initiator for new user\r\n  function createPeer(userToSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: true,\r\n      trickle: false,\r\n      stream\r\n    });\r\n\r\n    peer.on('signal', signal => {\r\n      socket.emit('offer', { to: userToSignal, offer: signal });\r\n    });\r\n\r\n    return peer;\r\n  }\r\n\r\n  // Add peer as non-initiator answering call\r\n  function addPeer(incomingSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: false,\r\n      trickle: false,\r\n      stream\r\n    });\r\n\r\n    peer.on('signal', signal => {\r\n      socket.emit('answer', { to: callerID, answer: signal });\r\n    });\r\n\r\n    peer.signal(incomingSignal);\r\n\r\n    return peer;\r\n  }\r\n\r\n  // Render remote videos\r\n  const renderPeers = () => {\r\n    return peers.map(({ peerID, peer, name }) => (\r\n      <Video key={peerID} peer={peer} name={name} />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"guest-room\" style={{ backgroundColor: 'black', color: 'gold' }}>\r\n      <h1 style={{ fontFamily: \"'Cinzel Decorative', cursive\", color: 'gold' }}>Ve Meet</h1>\r\n\r\n      {!joined && (\r\n        <>\r\n          <div>\r\n            <label>Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={e => {} /* controlled from parent or implement state here */}\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label>Room ID: </label>\r\n            <input\r\n              type=\"text\"\r\n              value={roomId}\r\n              onChange={e => {} /* controlled from parent or implement state here */}\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          <div className=\"camera-select\" style={{ margin: '10px 0' }}>\r\n            <label htmlFor=\"camera\" style={{ marginRight: 10 }}>Select Camera:</label>\r\n            <select\r\n              id=\"camera\"\r\n              value={selectedCam}\r\n              onChange={e => setSelectedCam(e.target.value)}\r\n            >\r\n              {cameras.map(cam => (\r\n                <option key={cam.deviceId} value={cam.deviceId}>\r\n                  {cam.label || `Camera ${cam.deviceId}`}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <button onClick={handleJoin} style={{ backgroundColor: 'gold', color: 'black', padding: '10px 20px', border: 'none', borderRadius: 5, cursor: 'pointer' }}>\r\n            Join Room\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      {joined && (\r\n        <div className=\"videos-grid\" style={{ display: 'flex', flexWrap: 'wrap', gap: 10 }}>\r\n          <div style={{ flex: '1 0 30%', position: 'relative' }}>\r\n            <video\r\n              ref={localVideoRef}\r\n              autoPlay\r\n              muted\r\n              playsInline\r\n              style={{ width: '100%', borderRadius: 8, backgroundColor: '#222' }}\r\n            />\r\n            <div style={{ color: 'gold', textAlign: 'center', marginTop: 4 }}>You ({name})</div>\r\n          </div>\r\n          {renderPeers()}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Video({ peer, name }) {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    peer.on('stream', stream => {\r\n      if (ref.current) {\r\n        ref.current.srcObject = stream;\r\n      }\r\n    });\r\n  }, [peer]);\r\n\r\n  return (\r\n    <div style={{ flex: '1 0 30%', position: 'relative' }}>\r\n      <video playsInline autoPlay ref={ref} style={{ width: '100%', borderRadius: 8, backgroundColor: '#222' }} />\r\n      <div style={{ color: 'gold', textAlign: 'center', marginTop: 4 }}>{name || 'Guest'}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}