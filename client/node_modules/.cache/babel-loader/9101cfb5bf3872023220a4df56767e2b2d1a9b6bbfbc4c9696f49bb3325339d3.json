{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\Ve Meet TEST\\\\client\\\\src\\\\components\\\\Room.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport \"../Room.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect(\"https://192.168.29.23:5000\");\nfunction Room() {\n  _s();\n  const [peers, setPeers] = useState([]);\n  const [stream, setStream] = useState();\n  const [roomID, setRoomID] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [joined, setJoined] = useState(false);\n  const [peerNames, setPeerNames] = useState({});\n  const [isAudio, setIsAudio] = useState(true);\n  const [isVideo, setIsVideo] = useState(true);\n  const [screenSharing, setScreenSharing] = useState(false);\n  const userVideo = useRef();\n  const peersRef = useRef([]);\n  const screenTrackRef = useRef();\n  useEffect(() => {\n    const id = prompt(\"Enter Room Code:\");\n    const name = prompt(\"Enter Your Name:\");\n    setRoomID(id);\n    setUserName(name);\n    navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    }).then(stream => {\n      setStream(stream);\n      if (userVideo.current) {\n        userVideo.current.srcObject = stream;\n      }\n      socket.emit(\"join room\", {\n        roomID: id,\n        userName: name\n      });\n      socket.on(\"all users\", users => {\n        const peers = [];\n        users.forEach(user => {\n          const peer = createPeer(user.socketID, socket.id, stream);\n          peersRef.current.push({\n            peerID: user.socketID,\n            peer\n          });\n          peers.push({\n            peerID: user.socketID,\n            peer,\n            userName: user.userName\n          });\n        });\n        setPeers(peers);\n      });\n      socket.on(\"user joined\", payload => {\n        const peer = addPeer(payload.signal, payload.callerID, stream);\n        peersRef.current.push({\n          peerID: payload.callerID,\n          peer\n        });\n        setPeers(users => [...users, {\n          peerID: payload.callerID,\n          peer,\n          userName: payload.userName\n        }]);\n      });\n      socket.on(\"receiving returned signal\", payload => {\n        const item = peersRef.current.find(p => p.peerID === payload.id);\n        if (item) {\n          item.peer.signal(payload.signal);\n        }\n      });\n      socket.on(\"user left\", id => {\n        const peerObj = peersRef.current.find(p => p.peerID === id);\n        if (peerObj) {\n          peerObj.peer.destroy();\n        }\n        peersRef.current = peersRef.current.filter(p => p.peerID !== id);\n        setPeers(users => users.filter(p => p.peerID !== id));\n      });\n    });\n    setJoined(true);\n  }, []);\n  function createPeer(userToSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream\n    });\n    peer.on(\"signal\", signal => {\n      socket.emit(\"sending signal\", {\n        userToSignal,\n        callerID,\n        signal,\n        userName\n      });\n    });\n    return peer;\n  }\n  function addPeer(incomingSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream\n    });\n    peer.on(\"signal\", signal => {\n      socket.emit(\"returning signal\", {\n        signal,\n        callerID\n      });\n    });\n    peer.signal(incomingSignal);\n    return peer;\n  }\n  const toggleAudio = () => {\n    stream.getAudioTracks()[0].enabled = !isAudio;\n    setIsAudio(!isAudio);\n  };\n  const toggleVideo = () => {\n    stream.getVideoTracks()[0].enabled = !isVideo;\n    setIsVideo(!isVideo);\n  };\n  const leaveCall = () => {\n    window.location.reload();\n  };\n  const endMeeting = () => {\n    socket.emit(\"end meeting\", roomID);\n    window.location.reload();\n  };\n  const startScreenShare = async () => {\n    try {\n      const screenStream = await navigator.mediaDevices.getDisplayMedia({\n        cursor: true\n      });\n      const screenTrack = screenStream.getVideoTracks()[0];\n      screenTrackRef.current = screenTrack;\n      peersRef.current.forEach(({\n        peer\n      }) => {\n        const sender = peer.streams[0].getVideoTracks()[0];\n        peer.replaceTrack(sender, screenTrack, stream);\n      });\n      screenTrack.onended = () => {\n        stopScreenShare();\n      };\n      setScreenSharing(true);\n    } catch (err) {\n      console.error(\"Screen sharing error:\", err);\n    }\n  };\n  const stopScreenShare = () => {\n    if (!screenTrackRef.current) return;\n    peersRef.current.forEach(({\n      peer\n    }) => {\n      const sender = peer.streams[0].getVideoTracks()[0];\n      peer.replaceTrack(screenTrackRef.current, sender, stream);\n    });\n    setScreenSharing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"room-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"logo\",\n      children: [\"\\uD83C\\uDFA5 Ve \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Meet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Room Code: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: roomID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your Name: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          muted: true,\n          ref: userVideo,\n          autoPlay: true,\n          playsInline: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [userName, \" (You)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), peers.map((peerObj, index) => /*#__PURE__*/_jsxDEV(Video, {\n        peer: peerObj.peer,\n        userName: peerObj.userName\n      }, peerObj.peerID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleAudio,\n        children: isAudio ? \"Mute\" : \"Unmute\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleVideo,\n        children: isVideo ? \"Stop Video\" : \"Start Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: screenSharing ? stopScreenShare : startScreenShare,\n        children: screenSharing ? \"Stop Sharing\" : \"Share Screen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: leaveCall,\n        children: \"Leave\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: endMeeting,\n        className: \"end\",\n        children: \"End Meeting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n}\n_s(Room, \"5pFewmcXo7cN0c4RS027+NY9f4E=\");\n_c = Room;\nfunction Video({\n  peer,\n  userName\n}) {\n  _s2();\n  const ref = useRef();\n  useEffect(() => {\n    peer.on(\"stream\", stream => {\n      if (ref.current) {\n        ref.current.srcObject = stream;\n      }\n    });\n  }, [peer]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      playsInline: true,\n      autoPlay: true,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: userName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_s2(Video, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c2 = Video;\nexport default Room;\nvar _c, _c2;\n$RefreshReg$(_c, \"Room\");\n$RefreshReg$(_c2, \"Video\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","Peer","jsxDEV","_jsxDEV","socket","connect","Room","_s","peers","setPeers","stream","setStream","roomID","setRoomID","userName","setUserName","joined","setJoined","peerNames","setPeerNames","isAudio","setIsAudio","isVideo","setIsVideo","screenSharing","setScreenSharing","userVideo","peersRef","screenTrackRef","id","prompt","name","navigator","mediaDevices","getUserMedia","video","audio","then","current","srcObject","emit","on","users","forEach","user","peer","createPeer","socketID","push","peerID","payload","addPeer","signal","callerID","item","find","p","peerObj","destroy","filter","userToSignal","initiator","trickle","incomingSignal","toggleAudio","getAudioTracks","enabled","toggleVideo","getVideoTracks","leaveCall","window","location","reload","endMeeting","startScreenShare","screenStream","getDisplayMedia","cursor","screenTrack","sender","streams","replaceTrack","onended","stopScreenShare","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","muted","ref","autoPlay","playsInline","map","index","Video","onClick","_c","_s2","_c2","$RefreshReg$"],"sources":["C:/projects/Ve Meet TEST/client/src/components/Room.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport \"../Room.css\";\r\n\r\nconst socket = io.connect(\"https://192.168.29.23:5000\");\r\n\r\nfunction Room() {\r\n  const [peers, setPeers] = useState([]);\r\n  const [stream, setStream] = useState();\r\n  const [roomID, setRoomID] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [joined, setJoined] = useState(false);\r\n  const [peerNames, setPeerNames] = useState({});\r\n  const [isAudio, setIsAudio] = useState(true);\r\n  const [isVideo, setIsVideo] = useState(true);\r\n  const [screenSharing, setScreenSharing] = useState(false);\r\n  const userVideo = useRef();\r\n  const peersRef = useRef([]);\r\n  const screenTrackRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const id = prompt(\"Enter Room Code:\");\r\n    const name = prompt(\"Enter Your Name:\");\r\n    setRoomID(id);\r\n    setUserName(name);\r\n\r\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true }).then((stream) => {\r\n      setStream(stream);\r\n      if (userVideo.current) {\r\n        userVideo.current.srcObject = stream;\r\n      }\r\n\r\n      socket.emit(\"join room\", { roomID: id, userName: name });\r\n\r\n      socket.on(\"all users\", (users) => {\r\n        const peers = [];\r\n        users.forEach((user) => {\r\n          const peer = createPeer(user.socketID, socket.id, stream);\r\n          peersRef.current.push({ peerID: user.socketID, peer });\r\n          peers.push({ peerID: user.socketID, peer, userName: user.userName });\r\n        });\r\n        setPeers(peers);\r\n      });\r\n\r\n      socket.on(\"user joined\", (payload) => {\r\n        const peer = addPeer(payload.signal, payload.callerID, stream);\r\n        peersRef.current.push({ peerID: payload.callerID, peer });\r\n        setPeers((users) => [...users, { peerID: payload.callerID, peer, userName: payload.userName }]);\r\n      });\r\n\r\n      socket.on(\"receiving returned signal\", (payload) => {\r\n        const item = peersRef.current.find((p) => p.peerID === payload.id);\r\n        if (item) {\r\n          item.peer.signal(payload.signal);\r\n        }\r\n      });\r\n\r\n      socket.on(\"user left\", (id) => {\r\n        const peerObj = peersRef.current.find((p) => p.peerID === id);\r\n        if (peerObj) {\r\n          peerObj.peer.destroy();\r\n        }\r\n        peersRef.current = peersRef.current.filter((p) => p.peerID !== id);\r\n        setPeers((users) => users.filter((p) => p.peerID !== id));\r\n      });\r\n    });\r\n\r\n    setJoined(true);\r\n  }, []);\r\n\r\n  function createPeer(userToSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: true,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      socket.emit(\"sending signal\", { userToSignal, callerID, signal, userName });\r\n    });\r\n\r\n    return peer;\r\n  }\r\n\r\n  function addPeer(incomingSignal, callerID, stream) {\r\n    const peer = new Peer({\r\n      initiator: false,\r\n      trickle: false,\r\n      stream,\r\n    });\r\n\r\n    peer.on(\"signal\", (signal) => {\r\n      socket.emit(\"returning signal\", { signal, callerID });\r\n    });\r\n\r\n    peer.signal(incomingSignal);\r\n\r\n    return peer;\r\n  }\r\n\r\n  const toggleAudio = () => {\r\n    stream.getAudioTracks()[0].enabled = !isAudio;\r\n    setIsAudio(!isAudio);\r\n  };\r\n\r\n  const toggleVideo = () => {\r\n    stream.getVideoTracks()[0].enabled = !isVideo;\r\n    setIsVideo(!isVideo);\r\n  };\r\n\r\n  const leaveCall = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const endMeeting = () => {\r\n    socket.emit(\"end meeting\", roomID);\r\n    window.location.reload();\r\n  };\r\n\r\n  const startScreenShare = async () => {\r\n    try {\r\n      const screenStream = await navigator.mediaDevices.getDisplayMedia({ cursor: true });\r\n      const screenTrack = screenStream.getVideoTracks()[0];\r\n\r\n      screenTrackRef.current = screenTrack;\r\n\r\n      peersRef.current.forEach(({ peer }) => {\r\n        const sender = peer.streams[0].getVideoTracks()[0];\r\n        peer.replaceTrack(sender, screenTrack, stream);\r\n      });\r\n\r\n      screenTrack.onended = () => {\r\n        stopScreenShare();\r\n      };\r\n\r\n      setScreenSharing(true);\r\n    } catch (err) {\r\n      console.error(\"Screen sharing error:\", err);\r\n    }\r\n  };\r\n\r\n  const stopScreenShare = () => {\r\n    if (!screenTrackRef.current) return;\r\n    peersRef.current.forEach(({ peer }) => {\r\n      const sender = peer.streams[0].getVideoTracks()[0];\r\n      peer.replaceTrack(screenTrackRef.current, sender, stream);\r\n    });\r\n    setScreenSharing(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"room-container\">\r\n      <h1 className=\"logo\">ðŸŽ¥ Ve <span>Meet</span></h1>\r\n      <div className=\"room-info\">\r\n        <p>Room Code: <strong>{roomID}</strong></p>\r\n        <p>Your Name: <strong>{userName}</strong></p>\r\n      </div>\r\n\r\n      <div className=\"video-grid\">\r\n        <div className=\"video-box\">\r\n          <video muted ref={userVideo} autoPlay playsInline />\r\n          <p>{userName} (You)</p>\r\n        </div>\r\n\r\n        {peers.map((peerObj, index) => (\r\n          <Video key={peerObj.peerID} peer={peerObj.peer} userName={peerObj.userName} />\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"controls\">\r\n        <button onClick={toggleAudio}>{isAudio ? \"Mute\" : \"Unmute\"}</button>\r\n        <button onClick={toggleVideo}>{isVideo ? \"Stop Video\" : \"Start Video\"}</button>\r\n        <button onClick={screenSharing ? stopScreenShare : startScreenShare}>\r\n          {screenSharing ? \"Stop Sharing\" : \"Share Screen\"}\r\n        </button>\r\n        <button onClick={leaveCall}>Leave</button>\r\n        <button onClick={endMeeting} className=\"end\">End Meeting</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Video({ peer, userName }) {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    peer.on(\"stream\", (stream) => {\r\n      if (ref.current) {\r\n        ref.current.srcObject = stream;\r\n      }\r\n    });\r\n  }, [peer]);\r\n\r\n  return (\r\n    <div className=\"video-box\">\r\n      <video playsInline autoPlay ref={ref} />\r\n      <p>{userName}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Room;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}