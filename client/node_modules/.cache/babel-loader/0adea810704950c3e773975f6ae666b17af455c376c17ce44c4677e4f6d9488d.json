{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{useParams}from'react-router-dom';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Room(){const{roomId}=useParams();const localVideoRef=useRef();// Safe getUserMedia wrapper\nconst getUserMedia=constraints=>{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){return navigator.mediaDevices.getUserMedia(constraints);}else{return Promise.reject(new Error('getUserMedia not supported'));}};useEffect(()=>{getUserMedia({video:true,audio:true}).then(stream=>{if(localVideoRef.current){localVideoRef.current.srcObject=stream;}}).catch(error=>{console.error('getUserMedia error:',error);alert('Camera or microphone not supported or permission denied.');});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#000',height:'100vh'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{color:'white'},children:[\"Room ID: \",roomId]}),/*#__PURE__*/_jsx(\"video\",{ref:localVideoRef,autoPlay:true,playsInline:true,muted:true,style:{width:300,borderRadius:12}})]});}","map":{"version":3,"names":["React","useEffect","useRef","useParams","jsxs","_jsxs","jsx","_jsx","Room","roomId","localVideoRef","getUserMedia","constraints","navigator","mediaDevices","Promise","reject","Error","video","audio","then","stream","current","srcObject","catch","error","console","alert","style","background","height","children","color","ref","autoPlay","playsInline","muted","width","borderRadius"],"sources":["C:/projects/Ve Meet/client/src/components/Room.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function Room() {\r\n  const { roomId } = useParams();\r\n  const localVideoRef = useRef();\r\n\r\n  // Safe getUserMedia wrapper\r\n  const getUserMedia = (constraints) => {\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      return navigator.mediaDevices.getUserMedia(constraints);\r\n    } else {\r\n      return Promise.reject(new Error('getUserMedia not supported'));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserMedia({ video: true, audio: true })\r\n      .then(stream => {\r\n        if (localVideoRef.current) {\r\n          localVideoRef.current.srcObject = stream;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('getUserMedia error:', error);\r\n        alert('Camera or microphone not supported or permission denied.');\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ background: '#000', height: '100vh' }}>\r\n      <h2 style={{ color: 'white' }}>Room ID: {roomId}</h2>\r\n      <video\r\n        ref={localVideoRef}\r\n        autoPlay\r\n        playsInline\r\n        muted\r\n        style={{ width: 300, borderRadius: 12 }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE7C,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAAEC,MAAO,CAAC,CAAGN,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAAO,aAAa,CAAGR,MAAM,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAS,YAAY,CAAIC,WAAW,EAAK,CACpC,GAAIC,SAAS,CAACC,YAAY,EAAID,SAAS,CAACC,YAAY,CAACH,YAAY,CAAE,CACjE,MAAO,CAAAE,SAAS,CAACC,YAAY,CAACH,YAAY,CAACC,WAAW,CAAC,CACzD,CAAC,IAAM,CACL,MAAO,CAAAG,OAAO,CAACC,MAAM,CAAC,GAAI,CAAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC,CAChE,CACF,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACdU,YAAY,CAAC,CAAEO,KAAK,CAAE,IAAI,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CACvCC,IAAI,CAACC,MAAM,EAAI,CACd,GAAIX,aAAa,CAACY,OAAO,CAAE,CACzBZ,aAAa,CAACY,OAAO,CAACC,SAAS,CAAGF,MAAM,CAC1C,CACF,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3CE,KAAK,CAAC,0DAA0D,CAAC,CACnE,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEtB,KAAA,QAAKuB,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAM,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAAAC,QAAA,eAClD1B,KAAA,OAAIuB,KAAK,CAAE,CAAEI,KAAK,CAAE,OAAQ,CAAE,CAAAD,QAAA,EAAC,WAAS,CAACtB,MAAM,EAAK,CAAC,cACrDF,IAAA,UACE0B,GAAG,CAAEvB,aAAc,CACnBwB,QAAQ,MACRC,WAAW,MACXC,KAAK,MACLR,KAAK,CAAE,CAAES,KAAK,CAAE,GAAG,CAAEC,YAAY,CAAE,EAAG,CAAE,CACzC,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}